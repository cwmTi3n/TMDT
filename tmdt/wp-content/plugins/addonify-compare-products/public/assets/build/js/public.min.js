"use strict";function AddonifyPerfectScrollBar(d){new PerfectScrollbar(d,{wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20,useBothWheelAxes:!0})}!function(v){v(document).ready(function(){var d,e=v("body"),c=v("#addonify-compare-dock-thumbnails"),o=v("#addonify-compare-dock-message"),a=v("#addonify-compare-search-modal"),n=v("#addonify-compare-search-results"),r=v("#addonify-compare-modal"),i=v("#addonify-compare-modal-content"),s=v("#addonify-compare-modal-overlay"),t=v("#addonify-compare-search-modal-overlay"),l=addonifyCompareProductsJSObject.compareItemsCount,m=v(".addonify-dock-compare-button");function p(){0===l?e.removeClass("addonify-compare-dock-is-visible"):e.addClass("addonify-compare-dock-is-visible")}function f(){1<l?m.show():m.hide()}function u(){l<2?(o.removeClass("addonify-compare-hidden"),v("#addonify-compare-dock-inner").removeClass("full")):(o.addClass("addonify-compare-hidden"),v("#addonify-compare-dock-inner").addClass("full"))}function y(){l<2?(v("#addonify-compare-products-notice").removeClass("addonify-compare-hidden"),v("#addonify-compare-products-table").hide()):v("#addonify-compare-products-notice").addClass("addonify-compare-hidden")}function C(){n.html(""),v("#addonify-compare-search-query").val(""),e.removeClass("addonify-compare-disable-scroll"),a.addClass("addonify-compare-hidden"),t.addClass("addonify-compare-hidden")}u(),f(),0!=Number(l)?e.addClass("addonify-compare-dock-is-visible"):e.removeClass("addonify-compare-dock-is-visible"),e.on("click",".addonify-cp-button, #addonify-compare-search-results .item-add",function(d){d.preventDefault();var o=v(this),a=o.data("product_id");v.ajax({url:addonifyCompareProductsJSObject.ajaxURL,type:"POST",data:{action:addonifyCompareProductsJSObject.actionAddProduct,product_id:a,nonce:addonifyCompareProductsJSObject.nonce},success:function(d){d.success&&(l=d.items_count,o.addClass("selected").attr("disabled","disabled"),o.hasClass("item-add")&&C(),c.append(d.product_image),v('.addonify-compare-dock-thumbnail[data-product_id="'+a+'"]').append(d.product_image).removeClass("loading"),y(),p(),f(),u())}})}),e.on("click",".addonify-compare-dock-remove-item-btn, .addonify-remove-compare-products",function(d){d.preventDefault();var o=v(this),a=o.data("product_id");v.ajax({url:addonifyCompareProductsJSObject.ajaxURL,type:"POST",data:{action:addonifyCompareProductsJSObject.actionRemoveProduct,product_id:a,nonce:addonifyCompareProductsJSObject.nonce},success:function(d){d.success&&(l=d.items_count,o.hasClass("addonify-compare-table-remove-btn")&&(v('td[data-product_id="'+a+'"]').remove(),v('button.addonify-cp-button[data-product_id="'+a+'"]').removeClass("selected").removeAttr("disabled"),l<2&&(e.removeClass("addonify-compare-disable-scroll"),s.addClass("addonify-compare-hidden"),r.addClass("addonify-compare-hidden"))),o.hasClass("addonify-compare-docker-remove-button")&&(v('button.addonify-cp-button[data-product_id="'+a+'"]').removeClass("selected").removeAttr("disabled"),v('.addonify-compare-dock-components[data-product_id="'+a+'"]').remove()),v('.addonify-compare-dock-components[data-product_id="'+a+'"]')&&v('.addonify-compare-dock-components[data-product_id="'+a+'"]').remove(),y(),p(),f(),u())}})}),e.on("click","#addonify-compare-dock-compare-btn",function(d){d.preventDefault(),e.addClass("addonify-compare-disable-scroll"),s.removeClass("addonify-compare-hidden"),e.removeClass("addonify-compare-dock-is-visible"),r.removeClass("addonify-compare-hidden"),i.addClass("loading"),v.ajax({url:addonifyCompareProductsJSObject.ajaxURL,type:"POST",data:{action:addonifyCompareProductsJSObject.actionGetCompareContent},success:function(d){d&&(i.removeClass("loading").html(d),r.removeClass("addonify-compare-hidden"))}})}),e.on("click","#addonify-compare-dock-add-item",function(){e.addClass("addonify-compare-disable-scroll"),e.removeClass("addonify-compare-dock-is-visible"),t.removeClass("addonify-compare-hidden"),a.removeClass("addonify-compare-hidden")}),e.on("click","#addonify-compare-search-close-button, #addonify-compare-search-modal-overlay",function(){e.removeClass("addonify-compare-disable-scroll"),e.addClass("addonify-compare-dock-is-visible"),C()}),e.on("keyup","#addonify-compare-search-query",function(){var o=v(this).val();clearTimeout(d),d=setTimeout(function(){var d;(d=o).length&&(v("#addonify-compare-search-results").html("").addClass("loading"),d={action:addonifyCompareProductsJSObject.actionSearchProducts,query:d,nonce:addonifyCompareProductsJSObject.nonce},v.post(addonifyCompareProductsJSObject.ajaxURL,d,function(d){v("#addonify-compare-search-results").removeClass("loading").html(d)}))},500)}),e.on("click","#addonify-compare-close-button, #addonify-compare-modal-overlay",function(){e.removeClass("addonify-compare-disable-scroll"),s.addClass("addonify-compare-hidden"),p(),r.addClass("addonify-compare-hidden"),e.removeClass("addonify-compare-modal-is-visible")})})}(jQuery),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".addonify-compare-scrollbar").forEach(function(d){null!=d&&AddonifyPerfectScrollBar(d)})});